<?xml version="1.0" encoding="utf-8"?>
<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="d"
	x:Class="LongBar.Library"
	Title="{DynamicResource TileLibraryTitle}"
	Height="500"
	Width="750"
	WindowStartupLocation="CenterScreen"
	Background="White"
	ShowActivated="True"
	Loaded="Window_Loaded"
	SizeChanged="Window_SizeChanged"
	ContentRendered="Window_ContentRendered">
	<Grid>
		<DockPanel
			x:Name="MainPanel">
			<Grid
				x:Name="TopPane"
				DockPanel.Dock="Top"
				MinHeight="50"
				MaxHeight="200" ClipToBounds="True">
				<Grid.Background>
					<LinearGradientBrush EndPoint="0.5,0.933" StartPoint="0.5,0">
						<GradientStop Color="#FFBBF7FF" Offset="0"/>
						<GradientStop Color="White" Offset="1"/>
						<GradientStop Color="#FFDFFBFF" Offset="0.198"/>
					</LinearGradientBrush>
				</Grid.Background>
				<DockPanel x:Name="TopPaneDP" Margin="0">
					<Grid x:Name="ActionPane" DockPanel.Dock="Top" ClipToBounds="True">
						<DockPanel>
							<Grid
								Height="25"
								Width="240"
								DockPanel.Dock="Right"
								VerticalAlignment="Top"
								Margin="0,6,10,0">
								<Grid.Triggers>
									<EventTrigger
										RoutedEvent="FrameworkElement.Loaded">
										<BeginStoryboard>
											<Storyboard>
												<DoubleAnimation
													Storyboard.TargetProperty="RenderTransform.(TranslateTransform.Y)"
													From="-25"
													To="0"
													Duration="0:0:0.4"
													DecelerationRatio="0.3"
													Completed="DoubleAnimation_Completed_1" />
											</Storyboard>
										</BeginStoryboard>
									</EventTrigger>
								</Grid.Triggers>
								<Grid.RenderTransform>
									<TranslateTransform />
								</Grid.RenderTransform>
								<Rectangle
									RadiusX="2"
									RadiusY="2"
									Stroke="#7FFFFFFF" />
								<Rectangle
									Margin="1"
									RadiusX="1"
									RadiusY="2">
									<Rectangle.Stroke>
										<LinearGradientBrush
											EndPoint="0.5,1"
											StartPoint="0.5,0">
											<GradientStop
												Color="#FF616467"
												Offset="0" />
											<GradientStop
												Color="#999BA0A5"
												Offset="1" />
										</LinearGradientBrush>
									</Rectangle.Stroke>
								</Rectangle>
								<Rectangle
									Margin="2"
									Stroke="#FFFFFFFF" />
								<TextBox
									Margin="3"
									x:Name="SearchField"
									Text="Search tile..."
									Opacity="0.7"
									FontStyle="Italic"
									Foreground="#FF696969"
									BorderThickness="0"
									VerticalContentAlignment="Center"
									IsKeyboardFocusedChanged="SearchField_IsKeyboardFocusedChanged"
									TextChanged="SearchField_TextChanged" />
								<Image
									x:Name="SearchIcon"
									Source="/HornSide;component/Resources/SearchIcon.png"
									Margin="0,0,5,0"
									HorizontalAlignment="Right"
									Width="15"
									Height="16" />
							</Grid>
							<StackPanel
								x:Name="ToolBar"
								Orientation="Horizontal"
								VerticalAlignment="Top"
								Margin="5,5,0,0"/>
						</DockPanel>
					</Grid>
					<Grid x:Name="DetailsPane" DockPanel.Dock="Top" ClipToBounds="True">
						<DockPanel Width="734" Margin="0" VerticalAlignment="Bottom" Height="95">
							<Viewport3D x:Name="CurrentItemIcon" DockPanel.Dock="Left" Height="76" Margin="10" Width="76">
								<Viewport3D.Camera>
									<PerspectiveCamera FieldOfView="45" FarPlaneDistance="100" LookDirection="0,0,-24.142135623731" NearPlaneDistance="0.1" Position="0,0,24.142135623731" UpDirection="0,1,0"/>
								</Viewport3D.Camera>
								<ModelVisual3D x:Name="CurrentItemIconModelContainer">
									<ModelVisual3D.Transform>
										<Transform3DGroup>
											<TranslateTransform3D OffsetZ="0" OffsetX="0" OffsetY="0"/>
											<ScaleTransform3D ScaleZ="1" ScaleY="1"/>
											<RotateTransform3D d:EulerAngles="5.5,16,1.5">
												<RotateTransform3D.Rotation>
													<AxisAngleRotation3D Axis="0.311,0.95,0.043" Angle="16.911"/>
												</RotateTransform3D.Rotation>
											</RotateTransform3D>
											<TranslateTransform3D OffsetZ="0" OffsetX="0" OffsetY="0"/>
											<TranslateTransform3D OffsetZ="0" OffsetX="0" OffsetY="0"/>
										</Transform3DGroup>
									</ModelVisual3D.Transform>
									<ModelVisual3D.Content>
										<GeometryModel3D x:Name="CurrentItemIconModel" d:Bounds="-10,-10,0,20,20,0">
											<GeometryModel3D.Geometry>
												<MeshGeometry3D Normals="0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1
0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1
0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1
0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1
0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1
0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1
0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1
0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1" Positions="-10,-10,0 -7.7777778,-10,0 -5.5555556,-10,0 -3.3333333,-10,0 -1.1111111,-10,0 1.1111111,-10,0 3.3333333,-10,0 5.5555556,-10,0 7.7777778,-10,0 10,-10,0 -10,-7.7777778,0 -7.7777778,-7.7777778,0 -5.5555556,-7.7777778,0
-3.3333333,-7.7777778,0 -1.1111111,-7.7777778,0 1.1111111,-7.7777778,0 3.3333333,-7.7777778,0 5.5555556,-7.7777778,0 7.7777778,-7.7777778,0 10,-7.7777778,0 -10,-5.5555556,0 -7.7777778,-5.5555556,0 -5.5555556,-5.5555556,0 -3.3333333,-5.5555556,0 -1.1111111,-5.5555556,0 1.1111111,-5.5555556,0
3.3333333,-5.5555556,0 5.5555556,-5.5555556,0 7.7777778,-5.5555556,0 10,-5.5555556,0 -10,-3.3333333,0 -7.7777778,-3.3333333,0 -5.5555556,-3.3333333,0 -3.3333333,-3.3333333,0 -1.1111111,-3.3333333,0 1.1111111,-3.3333333,0 3.3333333,-3.3333333,0 5.5555556,-3.3333333,0 7.7777778,-3.3333333,0
10,-3.3333333,0 -10,-1.1111111,0 -7.7777778,-1.1111111,0 -5.5555556,-1.1111111,0 -3.3333333,-1.1111111,0 -1.1111111,-1.1111111,0 1.1111111,-1.1111111,0 3.3333333,-1.1111111,0 5.5555556,-1.1111111,0 7.7777778,-1.1111111,0 10,-1.1111111,0 -10,1.1111111,0 -7.7777778,1.1111111,0
-5.5555556,1.1111111,0 -3.3333333,1.1111111,0 -1.1111111,1.1111111,0 1.1111111,1.1111111,0 3.3333333,1.1111111,0 5.5555556,1.1111111,0 7.7777778,1.1111111,0 10,1.1111111,0 -10,3.3333333,0 -7.7777778,3.3333333,0 -5.5555556,3.3333333,0 -3.3333333,3.3333333,0 -1.1111111,3.3333333,0
1.1111111,3.3333333,0 3.3333333,3.3333333,0 5.5555556,3.3333333,0 7.7777778,3.3333333,0 10,3.3333333,0 -10,5.5555556,0 -7.7777778,5.5555556,0 -5.5555556,5.5555556,0 -3.3333333,5.5555556,0 -1.1111111,5.5555556,0 1.1111111,5.5555556,0 3.3333333,5.5555556,0 5.5555556,5.5555556,0
7.7777778,5.5555556,0 10,5.5555556,0 -10,7.7777778,0 -7.7777778,7.7777778,0 -5.5555556,7.7777778,0 -3.3333333,7.7777778,0 -1.1111111,7.7777778,0 1.1111111,7.7777778,0 3.3333333,7.7777778,0 5.5555556,7.7777778,0 7.7777778,7.7777778,0 10,7.7777778,0 -10,10,0
-7.7777778,10,0 -5.5555556,10,0 -3.3333333,10,0 -1.1111111,10,0 1.1111111,10,0 3.3333333,10,0 5.5555556,10,0 7.7777778,10,0 10,10,0" TextureCoordinates="0,76 8.4444444,76 16.888889,76 25.333333,76 33.777778,76 42.222222,76 50.666667,76 59.111111,76 67.555556,76 76,76 0,67.555556 8.4444444,67.555556 16.888889,67.555556 25.333333,67.555556 33.777778,67.555556 42.222222,67.555556 50.666667,67.555556 59.111111,67.555556 67.555556,67.555556 76,67.555556 0,59.111111 8.4444444,59.111111 16.888889,59.111111
25.333333,59.111111 33.777778,59.111111 42.222222,59.111111 50.666667,59.111111 59.111111,59.111111 67.555556,59.111111 76,59.111111 0,50.666667 8.4444444,50.666667 16.888889,50.666667 25.333333,50.666667 33.777778,50.666667 42.222222,50.666667 50.666667,50.666667 59.111111,50.666667 67.555556,50.666667 76,50.666667 0,42.222222 8.4444444,42.222222 16.888889,42.222222 25.333333,42.222222 33.777778,42.222222 42.222222,42.222222
50.666667,42.222222 59.111111,42.222222 67.555556,42.222222 76,42.222222 0,33.777778 8.4444444,33.777778 16.888889,33.777778 25.333333,33.777778 33.777778,33.777778 42.222222,33.777778 50.666667,33.777778 59.111111,33.777778 67.555556,33.777778 76,33.777778 0,25.333333 8.4444444,25.333333 16.888889,25.333333 25.333333,25.333333 33.777778,25.333333 42.222222,25.333333 50.666667,25.333333 59.111111,25.333333 67.555556,25.333333
76,25.333333 0,16.888889 8.4444444,16.888889 16.888889,16.888889 25.333333,16.888889 33.777778,16.888889 42.222222,16.888889 50.666667,16.888889 59.111111,16.888889 67.555556,16.888889 76,16.888889 0,8.4444444 8.4444444,8.4444444 16.888889,8.4444444 25.333333,8.4444444 33.777778,8.4444444 42.222222,8.4444444 50.666667,8.4444444 59.111111,8.4444444 67.555556,8.4444444 76,8.4444444 0,0 8.4444444,0
16.888889,0 25.333333,0 33.777778,0 42.222222,0 50.666667,0 59.111111,0 67.555556,0 76,0" TriangleIndices="0 1 10 1 11 10 1 2 11 2 12 11 2 3 12 3 13 12 3 4 13 4 14 13 4 5 14 5 15 14 5 6 15 6 16 15 6 7 16 7 17 16 7 8 17 8 18 17 8 9 18 9 19 18 10 11 20 11 21 20 11 12 21 12 22 21 12 13 22 13 23 22 13 14 23 14 24 23 14 15 24 15 25 24 15 16 25 16 26 25 16 17 26 17 27 26 17 18 27 18 28 27 18 19 28 19 29 28 20 21 30 21 31 30 21 22 31 22 32 31 22 23 32 23 33 32 23 24 33 24 34 33 24 25 34 25 35 34 25 26 35 26 36 35 26 27 36 27 37 36 27 28 37 28 38 37 28 29 38 29 39 38 30 31 40 31 41 40 31 32 41 32 42 41 32 33 42 33 43 42 33 34 43 34 44 43 34 35 44 35 45 44 35 36 45 36 46 45 36 37 46 37 47 46 37 38 47 38 48 47 38 39 48 39 49 48 40 41 50 41 51 50 41 42 51 42 52 51 42 43 52 43 53 52 43 44 53 44 54 53 44 45 54 45 55 54 45 46 55 46 56 55 46 47 56 47 57 56 47 48 57 48 58 57 48 49 58 49 59 58 50 51 60 51 61 60 51 52 61 52 62 61 52 53 62 53 63 62 53 54 63 54 64 63 54 55 64 55 65 64 55 56 65 56 66 65 56 57 66 57 67 66 57 58 67 58 68 67 58 59 68 59 69 68 60 61 70 61 71 70 61 62 71 62 72 71 62 63 72 63 73 72 63 64 73 64 74 73 64 65 74 65 75 74 65 66 75 66 76 75 66 67 76 67 77 76 67 68 77 68 78 77 68 69 78 69 79 78 70 71 80 71 81 80 71 72 81 72 82 81 72 73 82 73 83 82 73 74 83 74 84 83 74 75 84 75 85 84 75 76 85 76 86 85 76 77 86 77 87 86 77 78 87 78 88 87 78 79 88 79 89 88 80 81 90 81 91 90 81 82 91 82 92 91 82 83 92 83 93 92 83 84 93 84 94 93 84 85 94 85 95 94 85 86 95 86 96 95 86 87 96 87 97 96 87 88 97 88 98 97 88 89 98 89 99 98"/>
											</GeometryModel3D.Geometry>
											<GeometryModel3D.Material>
												<DiffuseMaterial>
													<DiffuseMaterial.Brush>
														<ImageBrush ImageSource="/HornSide;component/Resources/HornSideLogo.png" Stretch="Uniform" x:Name="CurrentItemIconMS3"/>
													</DiffuseMaterial.Brush>
												</DiffuseMaterial>
											</GeometryModel3D.Material>
										</GeometryModel3D>
									</ModelVisual3D.Content>
								</ModelVisual3D>
								<ModelVisual3D x:Name="AmbientContainer">
									<ModelVisual3D.Content>
										<AmbientLight x:Name="Ambient" Color="Gray"/>
									</ModelVisual3D.Content>
								</ModelVisual3D>
								<ModelVisual3D x:Name="DirectionalContainer">
									<ModelVisual3D.Content>
										<DirectionalLight x:Name="Directional" Color="#FF7F7F7F" Direction="0,0,-1">
											<DirectionalLight.Transform>
												<TranslateTransform3D OffsetZ="3" OffsetX="0" OffsetY="0"/>
											</DirectionalLight.Transform>
										</DirectionalLight>
									</ModelVisual3D.Content>
								</ModelVisual3D>
							</Viewport3D>
							<TextBlock
								x:Name="ItemsCount"
								FontSize="13"
								Margin="0,10,0,0"><Run
									Text="Elements: 0" /></TextBlock>
							<DockPanel
								x:Name="WrapPanel1"
								Margin="0,10,0,0"
								Visibility="Collapsed"
								Width="200">
								<TextBlock
									DockPanel.Dock="Top"
									x:Name="CurrentItemTitle"
									Text="Tile Title"
									FontSize="16" />
								<TextBlock
									x:Name="CurrentItemAvailability"
									FontSize="13"
									Text="Status Unavailable" />
							</DockPanel>
							<WrapPanel
								x:Name="WrapPanel2"
								Orientation="Vertical"
								Margin="10"
								Visibility="Collapsed">
								<DockPanel
									Margin="0,0,0,0">
									<TextBlock
										x:Name="CurrentItemDescription"
										FontSize="12"
										TextWrapping="Wrap"
										TextTrimming="CharacterEllipsis"
										Text="Tile Description" />
								</DockPanel>
								<DockPanel
									Margin="0,0,10,0">
									<TextBlock
										Text="Developer: "
										Foreground="Gray"
										FontSize="12" />
									<TextBlock
										x:Name="CurrentItemAuthor"
										Text="Stealth"
										FontSize="12" />
								</DockPanel>
								<DockPanel
									Margin="0,0,10,0">
									<TextBlock
										Text="Version: "
										Foreground="Gray"
										FontSize="12" />
									<TextBlock
										x:Name="CurrentItemVersion"
										Text="2.0.0.0"
										FontSize="12" />
								</DockPanel>
							</WrapPanel>
						</DockPanel>
					</Grid>
					<Rectangle x:Name="BottomBorderRect" Fill="Black" Stroke="Black" Height="1" DockPanel.Dock="Top" StrokeThickness="6" RadiusY="1" ClipToBounds="True"/>
				</DockPanel>
			</Grid>
			<StackPanel
				x:Name="Panel"
				Background="White">
				<Grid Background="White">
					<DockPanel x:Name="LongBarTiles" Margin="10,0,10,0" DockPanel.Dock="Top" Visibility="Collapsed">
	                	<DockPanel DockPanel.Dock="Top">
                    		<TextBlock 
                    			x:Name="LongBarTilesCaption"
                    	    	DockPanel.Dock="Left" 
                    			Text="Local Tiles (0)" 
                    			Foreground="Gray"/>
                    		<Line
                    			Margin="5,0,0,0" 
                    			X1="0" 
                    			X2="200" 
                    			Stroke="Gray"  
                    			StrokeThickness="1" 
                    			Stretch="UniformToFill" 
                    			Opacity="0.7"/>
	                	</DockPanel>
						<ScrollViewer
								x:Name="LongBarTilesPanelScrollViewer"
								VerticalScrollBarVisibility="Auto"
								PreviewMouseLeftButtonDown="DownTilesPanel_PreviewMouseLeftButtonDown">
	                		<WrapPanel x:Name="LongBarTilesPanel" Orientation="Horizontal"/>
						</ScrollViewer>
            		</DockPanel>
					<DockPanel x:Name="DownTiles" Margin="10,0,0,0" DockPanel.Dock="Bottom">
						<DockPanel DockPanel.Dock="Top">
							<TextBlock
								x:Name="DownTilesCaption"
								DockPanel.Dock="Left"
								Text="Online Tiles (0)"
								Foreground="Gray" />
							<Line
								Margin="5,0,10,0"
								X1="0"
								X2="200"
								Stroke="Gray"
								StrokeThickness="1"
								Stretch="UniformToFill"
								Opacity="0.7" />
						</DockPanel>
							<ScrollViewer
								x:Name="DownTilesPanelScrollViewer"
								VerticalScrollBarVisibility="Auto"
								PreviewMouseLeftButtonDown="DownTilesPanel_PreviewMouseLeftButtonDown">
								<WrapPanel
										x:Name="DownTilesPanel"
										Orientation="Horizontal" />
							</ScrollViewer>
					</DockPanel>
					<DockPanel
					x:Name="SearchTiles"
					Margin="10,0,10,0"
					Visibility="Collapsed">
					<DockPanel
						DockPanel.Dock="Top">
						<TextBlock
							x:Name="SearchTilesCaption"
							DockPanel.Dock="Left"
							Text="Found: 0"
							Foreground="Gray" />
						<Line
							Margin="5,0,0,0"
							X1="0"
							X2="200"
							Stroke="Gray"
							StrokeThickness="1"
							Stretch="UniformToFill"
							Opacity="0.7" />
					</DockPanel>
					<WrapPanel
						x:Name="SearchTilesPanel"
						Orientation="Horizontal" />
				</DockPanel>
				</Grid>
			</StackPanel>
		</DockPanel>
		<Grid
			x:Name="LoadingGrid"
			Opacity="0"
			Visibility="Collapsed">
			<Grid.Resources>
				<DoubleAnimation
					x:Key="OpacityAnim1"
					To="1"
					Duration="0:0:0.3"
					Completed="DoubleAnimation_Completed" />
				<DoubleAnimation
					x:Key="OpacityAnim2"
					To="0"
					Duration="0:0:0.3" />
			</Grid.Resources>
			<Rectangle
				Fill="Black"
				Opacity="0.4" />
			<Grid
				Width="450"
				Height="80"
				VerticalAlignment="Center">
				<Rectangle
					RadiusX="5"
					RadiusY="5"
					Stroke="White"
					Fill="Gray" />
				<Rectangle
					Margin="2"
					RadiusX="5"
					RadiusY="5">
					<Rectangle.Fill>
						<LinearGradientBrush
							StartPoint="1,0"
							EndPoint="1,1">
							<GradientStop
								Color="#FFFDFEFF"
								Offset="0.0" />
							<GradientStop
								Color="#FFEDF2FA"
								Offset="0.4" />
							<GradientStop
								Color="#FFC1D2E8"
								Offset="1" />
							<GradientStop
								Color="#FFD7E4F4"
								Offset="0.6" />
						</LinearGradientBrush>
					</Rectangle.Fill>
				</Rectangle>
				<StackPanel
					Width="400"
					VerticalAlignment="Center">
					<TextBlock
						x:Name="DownloadingStatusTextBlock"
						Text="Connecting..."
						TextAlignment="Center" />
					<Grid>
						<ProgressBar
							x:Name="ProgressBar"
							Height="20" />
						<TextBlock
							x:Name="DownloadingProgressTextBlock"
							Text="0 Kb from 0 Kb"
							VerticalAlignment="Center"
							HorizontalAlignment="Center" />
					</Grid>
					<Button
						x:Name="CancelDownloadButton"
						Content="Cancel"
						Width="80"
						Margin="0,5,0,0"
						HorizontalAlignment="Right"
						Click="CancelDownloadButton_Click" />
				</StackPanel>
			</Grid>
		</Grid>
	</Grid>
</Window>